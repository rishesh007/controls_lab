clc;
clear all;
close all;
G1 = tf([0 0 1],[1 14 40]);
G2 = tf([1 0 1],[1 6 5]);
G3 = tf([0 1 1],[1 4 4]);
G4 = tf([1 0 4],[1 2 2]);
G5 = tf([0 1 1],[1 2 1]);
G5INV = tf([1 2 1],[0 1 1]);
H1 = tf(1);
H2 = tf([0 0 1],[100 0 0]);
H3 = tf([0 2 4],[1 1 4]);

G34 = parallel(G3,G4);
G12 = series(G1,G2);
GH121 = feedback(G12,H1);
G345 = series(G34,G5);
GH3453 = feedback(G345,H3);
Gtop = series(GH3453,GH121);
HG25 = series(H2,1/G5);
Y = feedback(Gtop,HG25);
s=tf('s');
%Manully calculated
Y2 = (100 *s^12 + 800 *s^11 + 3400 *s^10 + 10500 *s^9 + 23700 *s^8 + 41000 *s^7 + 55400 *s^6 + 55500 *s^5 + 42200 *s^4 + 24200 *s^3 + 7200 *s^2)/(100 *s^15 + 3000 *s^14 + 38000 *s^13 + 277600 *s^12 + 1.351e06 *s^11 + 4.763e06 *s^10 + 1.271e07 *s^9 + 2.617e07 *s^8 + 4.187e07 *s^7 + 5.158e07 *s^6 + 4.74e07 *s^5 + 3.03e07 *s^4 + 1.183e07 *s^3 + 2.091e06 *s^2 + 314*s + 72);